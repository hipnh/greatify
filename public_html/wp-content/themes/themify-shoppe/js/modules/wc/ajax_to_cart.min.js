'use strict';let ThemifyShoppeAjaxCart;
(function(q,c,k){let p=!1;const l=c.body[0].querySelectorAll("#header .icon-shopping-cart");c.body.on("adding_to_cart",function(a,d,e){c.trigger("themify_theme_spark",[q(d)]);for(a=l.length-1;-1<a;--a)l[a].className+=" tf_loader"}).on("wc_fragments_loaded",function(a,d,e){a=document.getElementById("cart-icon-count");null!==a&&this.classList.toggle("wc-cart-empty",void 0!==a.getElementsByClassName("cart_empty")[0])}).on("added_to_cart",function(a){for(a=l.length-1;-1<a;--a)l[a].classList.remove("tf_loader");
(a=c.body[0].querySelector(".cart .icon-shopping-cart"))&&a.classList.remove("tf_loader");if(k.ajaxCartSeconds&&!1===p&&!this.classList.contains("post-lightbox")){p=!0;let d=parseInt(k.ajaxCartSeconds);if(c.body[0].classList.contains("cart-style-dropdown")){const e=document.getElementsByClassName("shopdock");for(let b=e.length-1;-1<b;--b)e[b].parentNode.classList.add("show_cart"),setTimeout(function(){e[b].parentNode.classList.remove("show_cart");p=!1},d)}else{const e=document.getElementById(c.isTouch?
"cart-link-mobile-link":"cart-link");if(null!==e){const b=e.getAttribute("href"),f=document.getElementById(b.replace("#",""));null!==f&&(c.on("sidemenushow.themify",function(m,h,g){b===m&&setTimeout(function(){q(f).is(":hover")?f.addEventListener("mouseleave",function(){g.hidePanel();c.body[0].classList.remove("tf_auto_cart_open")},{once:!0,passive:!0}):(g.hidePanel(),c.body[0].classList.remove("tf_auto_cart_open"));p=!1},d)},!0),c.body[0].classList.add("tf_auto_cart_open"),setTimeout(function(){e.click()},
100))}}}});if("undefined"!==typeof wc_add_to_cart_params)c.body.on("click",".remove_from_cart_button",function(a){a.preventDefault();this.classList.remove("tf_close");this.classList.add("tf_loader")});ThemifyShoppeAjaxCart=function(a){if(null===this.closest(".product-type-external")){if(-1<window.location.search.indexOf("switch-subscription"))return this;a.preventDefault();a=new FormData(this);var d=this.getElementsByClassName("single_add_to_cart_button")[0],e=this.querySelector('[name="add-to-cart"]');
"INPUT"!==e.tagName&&a.append("add-to-cart",e.value);d&&(d.classList.remove("added"),d.classList.add("loading"));c.body.triggerHandler("adding_to_cart",[this.querySelector('[type="submit"]'),a]);fetch(woocommerce_params.wc_ajax_url.toString().replace("%%endpoint%%","theme_add_to_cart"),{method:"POST",headers:new Headers({Accept:"application/json","X-Requested-With":"XMLHttpRequest"}),body:a}).then(b=>b.redirected||b.json()).then(b=>{if(b)if(k.redirect)window.location.href=k.redirect;else{var f=b.fragments;
b=b.cart_hash;if(f){const m=Object.keys(f);let h;for(let g=m.length-1;-1<g;g--){h=document.querySelectorAll(m[g]);for(let n=h.length-1;-1<n;n--)h[n].className+=" updating",h[n].outerHTML=f[m[g]]}}d&&(d.classList.remove("loading"),d.classList.add("added"));c.body.triggerHandler("added_to_cart",[f,b])}})}};if(k.ajaxSingleCart){const a=document.querySelector("form.cart");a&&a.addEventListener("submit",ThemifyShoppeAjaxCart)}})(jQuery,Themify,themifyScript);
